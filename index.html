<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Link Net – Levando o mundo até você</title>
    <meta name="description"
        content="Conecte-se com a Link Net! Oferecemos internet fibra óptica de alta velocidade, TV e telemedicina em Rondônia. Conheça nossos planos!" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet" />

    <style>
        /* Garantir visibilidade do mapa */
        #map {
            width: 100%;
            height: 500px;
            border-radius: 8px;
            background-color: #e5e3df;
        }
        .interactive-map-section { display: flex; flex-wrap: wrap; gap: 20px; padding: 40px 0; }
        .locations-sidebar { flex: 1; min-width: 300px; }
        .map-container-wrapper { flex: 2; min-width: 300px; }
        .accordion-item { border: 1px solid #ddd; margin-bottom: 8px; border-radius: 4px; overflow: hidden; }
        .accordion-header { width: 100%; text-align: left; padding: 15px; background: #f8f9fa; border: none; cursor: pointer; display: flex; justify-content: space-between; font-weight: 600; }
        .accordion-content { padding: 0 15px; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; background: #fff; }
        .accordion-item.active .accordion-content { padding: 15px; max-height: 200px; }
    </style>
</head>

<body>

    <header class="site-header">
        <div class="container header-inner">
            <a href="index.html" class="site-logo">
                <img src="assets/images/logo.png" alt="Logo Link Net">
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#inicio">Início</a></li>
                    <li><a href="#planos">Planos</a></li>
                    <li><a href="#unidades">Unidades</a></li>
                    <li><a href="#contato">Contato</a></li>
                </ul>
            </nav>
            <a href="https://ixc.linknettelecom.net.br/central_assinante_web/login" target="_blank" class="button-cta">Área do Cliente</a>
        </div>
    </header>

    <main class="container">
        <section id="unidades" class="interactive-map-section">
            <div class="locations-sidebar">
                <h2>Nossas Unidades</h2>
                <div class="accordion" id="unitAccordion">
                    
                    <div class="accordion-item" data-lat="-10.4388" data-lng="-62.4664">
                        <button class="accordion-header">Jaru <i class="fa-solid fa-chevron-down"></i></button>
                        <div class="accordion-content">
                            <p>Av. Padre Adolpho Rohl, Centro - Jaru - RO, 76890-000</p>
                        </div>
                    </div>

                    <div class="accordion-item" data-lat="-8.7586149" data-lng="-63.901736">
                        <button class="accordion-header">Porto Velho <i class="fa-solid fa-chevron-down"></i></button>
                        <div class="accordion-content">
                            <p>Av. Pinheiro Machado, 1257 - Olaria, Porto Velho - RO</p>
                        </div>
                    </div>

                    <div class="accordion-item" data-lat="-9.7104438" data-lng="-64.5316139">
                        <button class="accordion-header">União Bandeirantes <i class="fa-solid fa-chevron-down"></i></button>
                        <div class="accordion-content">
                            <p>Av 3 de Dezembro - União Bandeirantes, Porto Velho - RO</p>
                        </div>
                    </div>

                    <div class="accordion-item" data-lat="-9.2575495" data-lng="-64.4087398">
                        <button class="accordion-header">Jaci Paraná <i class="fa-solid fa-chevron-down"></i></button>
                        <div class="accordion-content">
                            <p>R. José Rodrigues, Centro - N 1530 - Jaci Paraná, Porto Velho - RO</p>
                        </div>
                    </div>

                    <div class="accordion-item" data-lat="-10.7802800" data-lng="-65.3330179">
                        <button class="accordion-header">Guajará-Mirim <i class="fa-solid fa-chevron-down"></i></button>
                        <div class="accordion-content">
                            <p>Av. 15 de Novembro, 2150 - Serraria, Guajará-Mirim - RO</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="map-container-wrapper">
                <div id="map"></div>
            </div>
        </section>
    </main>

    <script>
        let map;
        const markers = [];

        function initMap() {
            // Centralização focada em Rondônia
            const centerRO = { lat: -9.8, lng: -63.5 };

            map = new google.maps.Map(document.getElementById("map"), {
                center: centerRO,
                zoom: 7,
                mapTypeControl: false,
                streetViewControl: false
            });

            // Configuração do ÍCONE com a imagem da LinkNet
            const linkNetIcon = {
                url: "assets/images/logo.png", // Certifique-se que o caminho está correto
                scaledSize: new google.maps.Size(50, 35), // Tamanho da logo no mapa
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(25, 17)
            };

            const accordionItems = document.querySelectorAll('.accordion-item');

            accordionItems.forEach(item => {
                const lat = parseFloat(item.getAttribute('data-lat'));
                const lng = parseFloat(item.getAttribute('data-lng'));
                const pos = { lat, lng };
                const title = item.querySelector('.accordion-header').innerText;

                // Criar Marcador com a Logo para todas as cidades
                const marker = new google.maps.Marker({
                    position: pos,
                    map: map,
                    icon: linkNetIcon,
                    title: title
                });

                // Evento: Clicar no item da lista lateral
                item.addEventListener('click', () => {
                    map.setCenter(pos);
                    map.setZoom(15);
                    
                    // Resetar acordeões e ativar o selecionado
                    accordionItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                });

                // Evento: Clicar no ícone da logo dentro do mapa
                marker.addListener("click", () => {
                    item.click(); // Dispara o clique no menu lateral
                });
            });
        }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD9byDhrlj8tbMK-XWL0zp7TuVyoi8n7QI&callback=initMap&v=weekly" defer></script>

</body>
</html>
